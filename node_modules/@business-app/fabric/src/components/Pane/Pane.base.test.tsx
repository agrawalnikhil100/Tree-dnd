/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */

import 'jest';

import * as Enzyme from 'enzyme';
import toJson from 'enzyme-to-json';
import * as React from 'react';

import { IconButton } from '@fluentui/react/lib/Button';
import { PaneBase } from './Pane.base';
import { IPaneProps } from './Pane.types';

describe('Pane', () => {
  let wrapper: Enzyme.ShallowWrapper<{}, {}>;
  let wrapperProps: IPaneProps;
  beforeAll(() => {
    wrapperProps = {
      isOpen: true
    };
  });

  it('renders the pane component', () => {
    wrapper = Enzyme.shallow(<PaneBase {...wrapperProps} />);
    expect(toJson(wrapper)).toMatchSnapshot();
  });

  it('should have the close button', () => {
    wrapperProps = { ...wrapperProps, hasCloseButton: true };
    wrapper = Enzyme.shallow(<PaneBase {...wrapperProps} />);
    expect(wrapper.find(IconButton)).toHaveLength(1);
  });
});
