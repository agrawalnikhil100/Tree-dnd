/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */

import * as React from 'react';

import { find } from '@fluentui/react/lib/Utilities';

import { IFilterItem } from '../../FilterSearchBox';
import { FilterSearchViews, IView } from '../index';
import { flatItems, IDataItem, shouldFilterItem } from './FilterSearchViewsExampleData';

const iconsWithFilters: IFilterItem[] = [
  { key: '0', text: 'Header1' },
  { key: '1', text: 'Header2' },
  { key: '3', text: 'Header3' },
  { key: '4', text: 'Header4' }
];

export class FilterSearchViewsDynamicFilterButtonIconExample extends React.Component {
  public render() {
    const views: Array<IView<IDataItem>> = [
      {
        key: 'verticalList',
        text: 'Vertical List',
        ariaLabel: 'Vertical list view',
        iconName: 'AlignVerticalBottom',
        onRenderView: () => null
      }
    ];

    return (
      <FilterSearchViews
        strings={{
          searchBoxPlaceholder: 'Search',
          allItemsFilterItemText: 'All'
        }}
        items={flatItems}
        shouldFilterItem={shouldFilterItem}
        filters={iconsWithFilters}
        views={views}
        filterButtonIconName={this._getFilterButtonIconName}
      />
    );
  }

  private _getFilterButtonIconName = (selectedFilterKey: string) => {
    const selectedFilter = find(iconsWithFilters, item => item.key === selectedFilterKey);
    return selectedFilter ? selectedFilter.text : 'Filter';
  };
}
