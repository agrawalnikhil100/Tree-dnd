/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */

import * as Enzyme from 'enzyme';
import 'jest';
import * as React from 'react';
import { StepStatus } from './StepStatus';
import { WizardBase as Wizard } from './Wizard.base';

describe('Wizard', () => {
  it('renders the placeholders correctly', () => {
    const noop = jest.fn();
    const wrapper = Enzyme.shallow(
      <Wizard
        onRenderStep={() => <div className="step-body" />}
        onRenderRightPane={() => <div className="right-pane" />}
        onRenderHeaderItems={() => <div className="header-items" />}
        onRenderHeaderFarItems={() => <div className="header-far-items" />}
        progressProps={{
          stepNames: ['Step1', 'Step2'],
          stepStatuses: [StepStatus.Valid, StepStatus.Empty],
          stepSummaries: [['Done'], []],
          currentIndex: 0,
          computeAriaDescription: () => 'description',
          expandButtonLabel: 'Expand timeline',
          collapseButtonLabel: 'Collapse timeline',
          onProgressStepClick: (stepNo: number) => null
        }}
        footerProps={{
          backButtonText: 'Back',
          continueButtonText: 'Next',
          canGoToPreviousStep: true,
          canGoToNextStep: true,
          shouldDisplayBackButton: true,
          goToNextStep: noop,
          goToPreviousStep: noop
        }}
      />
    );

    expect(wrapper.find('.step-body').length).toBe(1);
    expect(wrapper.find('.right-pane').length).toBe(1);
    expect(wrapper.find('.header-items').length).toBe(1);
    expect(wrapper.find('.header-far-items').length).toBe(1);
  });
});
