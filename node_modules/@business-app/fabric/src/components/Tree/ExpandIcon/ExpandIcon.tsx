/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */

import { Icon } from '@fluentui/react/lib/Icon';
import * as React from 'react';
import { IExpandIconProps } from './ExpandIcon.types';

export class ExpandIcon extends React.PureComponent<IExpandIconProps> {
  public render(): JSX.Element {
    const { isFolder, iconName, buttonClassName, iconClassName, noExpandClassName } = this.props;

    if (isFolder) {
      return (
        <div className={buttonClassName} onClick={this._onClick} onDoubleClick={this._doubleClickEater}>
          <Icon iconName={iconName} className={iconClassName} />
        </div>
      );
    }

    return <span className={noExpandClassName} />;
  }

  private _onClick = (event: React.MouseEvent<HTMLDivElement>): void => {
    event.stopPropagation();

    if (!this.props.disable) {
      this.props.onClick(event);
    }
  };

  private _doubleClickEater = (event: React.MouseEvent<HTMLDivElement>): void => {
    event.stopPropagation();
    event.preventDefault();
  };
}
