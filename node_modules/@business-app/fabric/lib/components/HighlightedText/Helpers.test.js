/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */
import { calculateWordHighlights } from './Helpers';
describe('HighlightedText/Helpers', function () {
    describe('calculateWordHighlights', function () {
        it('correctly extracts indices given overlaps', function () {
            var result = calculateWordHighlights('hi hihih', ['hi', 'hih']).sort(sortArray);
            var expected = [
                // match "hi"
                {
                    startIndex: 0,
                    length: 2
                },
                {
                    startIndex: 3,
                    length: 2
                },
                {
                    startIndex: 5,
                    length: 2
                },
                // match "hih"
                {
                    startIndex: 3,
                    length: 3
                },
                {
                    startIndex: 5,
                    length: 3
                }
            ].sort(sortArray);
            expect(result).toEqual(expected);
        });
        it('correctly handles multi-byte characters', function () {
            var result = calculateWordHighlights('ðŸ¤  hi ðŸ¤ ', ['hi', 'ðŸ¤ ']).sort(sortArray);
            var expected = [
                { startIndex: 0, length: 2 },
                { startIndex: 3, length: 2 },
                { startIndex: 6, length: 2 }
            ].sort(sortArray);
            expect(result).toEqual(expected);
        });
        it('is case sensitive by default', function () {
            var result = calculateWordHighlights('Hi hi', ['hi']).sort(sortArray);
            var expected = [{ startIndex: 3, length: 2 }].sort(sortArray);
            expect(result).toEqual(expected);
        });
        it('allows for overriding case sensitivity', function () {
            {
                var result = calculateWordHighlights('Hi hi', ['hi'], true).sort(sortArray);
                var expected = [
                    { startIndex: 0, length: 2 },
                    { startIndex: 3, length: 2 }
                ].sort(sortArray);
                expect(result).toEqual(expected);
            }
            {
                var result = calculateWordHighlights('Hi hi', ['hi'], false).sort(sortArray);
                var expected = [{ startIndex: 3, length: 2 }].sort(sortArray);
                expect(result).toEqual(expected);
            }
        });
        var sortArray = function (a, b) {
            var startDifference = a.startIndex - b.startIndex;
            if (startDifference === 0) {
                return a.length - b.length;
            }
            return startDifference;
        };
    });
});
//# sourceMappingURL=Helpers.test.js.map