/*!
 * Copyright (C) Microsoft Corporation. All rights reserved.
 */
import { __extends } from "tslib";
import { NumericalField } from './NumericalField';
/** An editable textfield control that only accepts floating point numbers. */
var NumberField = /** @class */ (function (_super) {
    __extends(NumberField, _super);
    function NumberField() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NumberField.prototype.isValid = function (stringValue) {
        return isFinite(Number(stringValue)) && this.isOfAcceptablePrecision(stringValue);
    };
    NumberField.prototype.isOfAcceptablePrecision = function (stringValue) {
        var maxPrecision = this.props.maxPrecision;
        if (maxPrecision === undefined) {
            // if the user never specified a max precision there isn't one
            return true;
        }
        // TODO
        // In the future when we support globalization
        // we have to consider locales that don't use "," to split
        // decimal numbers
        var _a = stringValue.split('.'), _ = _a[0], fractional = _a[1];
        if (!fractional) {
            // if there's no fractional part, then no trimming is needed
            return true;
        }
        return fractional.length <= maxPrecision;
    };
    return NumberField;
}(NumericalField));
export { NumberField };
//# sourceMappingURL=NumberField.js.map